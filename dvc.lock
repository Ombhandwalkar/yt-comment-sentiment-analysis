schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: d67ac0723bcad457ba4b099b6f3baf1a
      size: 4000
    params:
      params.yaml:
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw
      hash: md5
      md5: 6ca6d244a123eff54dee2d461ca9828c.dir
      size: 6919761
      nfiles: 2
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/raw
      hash: md5
      md5: 6ca6d244a123eff54dee2d461ca9828c.dir
      size: 6919761
      nfiles: 2
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: c6dba5957334af04e179881a90fce9ca
      size: 3672
    outs:
    - path: data/interim
      hash: md5
      md5: 659b2c676ed6e35ff72921a5d35b991e.dir
      size: 5132752
      nfiles: 2
  feature_selection:
    cmd: python src/features/feature_selection.py
    deps:
    - path: data/interim
      hash: md5
      md5: 659b2c676ed6e35ff72921a5d35b991e.dir
      size: 5132752
      nfiles: 2
    - path: src/features/feature_selection.py
      hash: md5
      md5: 3ca2cd8decf1713f5dc9c629f018c041
      size: 3760
    params:
      params.yaml:
        feature_selection.max_features: 10000
        feature_selection.ngram_range:
        - 1
        - 3
    outs:
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: d170a7109e191ae5355c009e957f1af1
      size: 343794
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/interim/train_processed.csv
      hash: md5
      md5: 2eefac70c2a2465aa4cc92c6b9c9b8c3
      size: 4086356
    - path: src/model/model_building.py
      hash: md5
      md5: dacce8a178f949321ff6abee7f5117f4
      size: 5401
    params:
      params.yaml:
        model_building.learning_rate: 0.09
        model_building.max_depth: 20
        model_building.max_features: 10000
        model_building.n_estimators: 367
        model_building.ngram_range:
        - 1
        - 3
    outs:
    - path: lgbm_model.pkl
      hash: md5
      md5: fc69e3db3aa296cfd4cbde7f804e6fc7
      size: 4126830
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: data/interim
      hash: md5
      md5: 659b2c676ed6e35ff72921a5d35b991e.dir
      size: 5132752
      nfiles: 2
    - path: lgbm_model.pkl
      hash: md5
      md5: fc69e3db3aa296cfd4cbde7f804e6fc7
      size: 4126830
    - path: src/model/model_evaluation.py
      hash: md5
      md5: e33208211d3b52d080c4f5870ecdc255
      size: 7324
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: d170a7109e191ae5355c009e957f1af1
      size: 343794
    outs:
    - path: experiment_info.json
      hash: md5
      md5: 6010885b45fc13dca04a5eb764e81ead
      size: 87
  model_registration:
    cmd: python src/model/register_model.py
    deps:
    - path: experiment_info.json
      hash: md5
      md5: 6010885b45fc13dca04a5eb764e81ead
      size: 87
    - path: src/model/register_model.py
      hash: md5
      md5: e1432c2261b49e4bcb181c7426686eed
      size: 2479
