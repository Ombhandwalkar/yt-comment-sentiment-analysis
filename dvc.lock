schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: d67ac0723bcad457ba4b099b6f3baf1a
      size: 4000
    params:
      params.yaml:
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw
      hash: md5
      md5: 4872515daf5f6728eb5483f08c22078c.dir
      size: 6882960
      nfiles: 2
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/raw
      hash: md5
      md5: 4872515daf5f6728eb5483f08c22078c.dir
      size: 6882960
      nfiles: 2
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: c6dba5957334af04e179881a90fce9ca
      size: 3672
    outs:
    - path: data/interim
      hash: md5
      md5: a4a3d21c52514d9f03bbcfe60a2258fc.dir
      size: 5098073
      nfiles: 2
  feature_selection:
    cmd: python src/features/feature_selection.py
    deps:
    - path: data/interim
      hash: md5
      md5: a4a3d21c52514d9f03bbcfe60a2258fc.dir
      size: 5098073
      nfiles: 2
    - path: src/features/feature_selection.py
      hash: md5
      md5: 1b2b18979092cdf60c2a837d9027e91b
      size: 3650
    params:
      params.yaml:
        feature_selection.max_features: 10000
        feature_selection.ngram_range:
        - 1
        - 3
    outs:
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 326860d1aed6de2a6b69b31734ba2de5
      size: 383826
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/interim/train_processed.csv
      hash: md5
      md5: 9242c49265eb371538bb4db748f3a661
      size: 4058630
    - path: src/model/model_building.py
      hash: md5
      md5: 0eeb416d8157c63dea274871e8b1bc04
      size: 5248
    params:
      params.yaml:
        model_building.learning_rate: 0.09
        model_building.max_depth: 20
        model_building.max_features: 10000
        model_building.n_estimators: 367
        model_building.ngram_range:
        - 1
        - 3
    outs:
    - path: lgbm_model.pkl
      hash: md5
      md5: d301fe87de409534cd22b85a0b887cd0
      size: 4104871
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: data/interim
      hash: md5
      md5: a4a3d21c52514d9f03bbcfe60a2258fc.dir
      size: 5098073
      nfiles: 2
    - path: lgbm_model.pkl
      hash: md5
      md5: d301fe87de409534cd22b85a0b887cd0
      size: 4104871
    - path: src/model/model_evaluation.py
      hash: md5
      md5: 87c6e2df6f737d27bf49d31a324a012f
      size: 7321
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 326860d1aed6de2a6b69b31734ba2de5
      size: 383826
    outs:
    - path: experiment_info.json
      hash: md5
      md5: 686ca54d92b09f6e38200d5f8a08ae0c
      size: 84
  model_registration:
    cmd: python src/model/register_model.py
    deps:
    - path: experiment_info.json
      hash: md5
      md5: 686ca54d92b09f6e38200d5f8a08ae0c
      size: 84
    - path: src/model/register_model.py
      hash: md5
      md5: 4bbf09fd1236d51e7a809568244ede84
      size: 2476
